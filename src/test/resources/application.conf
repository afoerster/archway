cluster {
  name = "cluster"
  url = ""
  username = "admin"
  password = "admin"
}

hdfs {
  root = "hdfs://heimdali"
  userRoot = "/users"
  projectRoot = "/projects"
}

rest {
  secret = "QsT2UzxEm7hv"
}

ctx {
  driver = "org.postgresql.Driver"
  url = "jdbc:postgresql://localhost/heimdali"
  url = ${?DB_URL}
  user = postgres
  password = postgres
}

ldap {
  server = localhost
  server = ${?LDAP_HOST}
  port = 389
  base_dn = "dc=jotunn,dc=io"
  users_path = "ou=users,ou=hadoop"
  group_path = "ou=groups,ou=hadoop"
  bind_dn = "cn=admin,dc=jotunn,dc=io"
  bind_password = "admin"
}

akka {
  loggers = ["akka.event.slf4j.Slf4jLogger"]
  log-dead-letters = 10
  log-dead-letters-during-shutdown = on
  loglevel = "INFO"

  persistence {
    journal.plugin = "inmemory-journal"
    snapshot-store.plugin = "inmemory-snapshot-store"
  }
}

docker {
  postgres {
    image-name = "postgres"
    environmental-variables = ["POSTGRES_DB=heimdali"]
    ready-checker {
      log-line = "database system is ready to accept connections"
    }
    port-maps {
      default-postgres-port {
        internal = 5432
      }
    }
  }
  ldap {
    image-name = "jotunn/openldap"
    environment-variables = ["LDAP_READONLY_USER=true", "LDAP_DOMAIN=jotunn.io"]
    ready-checker {
      log-line = "slapd starting"
    }
    port-maps {
      default-ldap-port {
        internal = 389
        external = 389
      }
    }
  }
}